<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Requirements - BDS Modding Bible</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">BDS Modding Bible</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="requirements"><a class="header" href="#requirements">Requirements</a></h1>
<hr />
<h2 id="64-bit-computer-or-virtual-machine-with-adequate-ram"><a class="header" href="#64-bit-computer-or-virtual-machine-with-adequate-ram"><strong>64-bit Computer or Virtual Machine with Adequate RAM</strong></a></h2>
<ul>
<li>
<p><strong>64-bit Architecture</strong>: BDS is only available for 64-bit processors; thus, a 64-bit machine is necessary.</p>
</li>
<li>
<p><strong>RAM</strong>: A minimum of 6GB of RAM is recommended, as most reverse engineering tools are resource-intensive. Additionally, recent updates have led to decreased performance in both the server and client of MCBE.</p>
</li>
</ul>
<hr />
<h2 id="bedrock-dedicated-server-bds"><a class="header" href="#bedrock-dedicated-server-bds"><strong>Bedrock Dedicated Server (BDS)</strong></a></h2>
<p>BDS, which you can download <a href="https://www.minecraft.net/en-us/download/server/bedrock">here</a>, is written in C++. This guide assumes the reader has a solid understanding of C++. There are versions available for both Windows and Ubuntu, compiled from the same source code. Although disassembling the Ubuntu BDS can be time-consuming (approximately a day with IDA on a 10th gen i5 and 8GB RAM), having both versions is beneficial.</p>
<h4 id="ubuntu-version"><a class="header" href="#ubuntu-version"><strong>Ubuntu Version</strong>:</a></h4>
<ul>
<li>
<p>Lacks a debug information file; all symbols are directly included in the binary, making analysis slower since the disassembler needs to analyze the file twice.</p>
</li>
<li>
<p>Has minimal compiler optimization (at least in pre-1.16.200 versions).</p>
</li>
<li>
<p>Exhibits worse performance than its Windows counterpart (though this isn't an issue for this guide).</p>
</li>
<li>
<p>Produces more readable decompiler output and reveals functions that might have been optimized away by the compiler in the Windows version.</p>
</li>
</ul>
<h4 id="windows-version"><a class="header" href="#windows-version"><strong>Windows Version</strong>:</a></h4>
<ul>
<li>
<p>Includes a PDB file, allowing the disassembler to extract symbol information directly, speeding up analysis.</p>
</li>
<li>
<p>Due to higher compiler optimization, it performs better than the Ubuntu version, but the pseudocode produced by decompilers (Hex-Rays, Ghidra, Snowman, JSDEC) is less readable.</p>
</li>
</ul>
<p>It's recommended to have disassemblies of:</p>
<ul>
<li>
<p>1.14.60 Ubuntu</p>
</li>
<li>
<p>1.18.0 Windows BDS (notably readable code)</p>
</li>
<li>
<p>The latest version of Windows BDS</p>
</li>
</ul>
<p>Earlier versions like 1.6 can aid in easier type reconstruction, but with the creation of this guide, they aren't strictly necessary.</p>
<hr />
<h2 id="mcbe-client"><a class="header" href="#mcbe-client"><strong>MCBE Client</strong></a></h2>
<p>Using the Windows 10 client is advisable, as it facilitates testing mods on the same device. By default, the Windows 10 client disables applications from accessing the local network loopback address. To access a locally hosted BDS, you must enable loopback. Microsoft's documentation provides detailed instructions on <a href="https://learn.microsoft.com/en-us/troubleshoot/windows-server/networking/install-microsoft-loopback-adapter">installing the Microsoft Loopback Adapter</a>.</p>
<hr />
<h2 id="visual-studio"><a class="header" href="#visual-studio"><strong>Visual Studio</strong></a></h2>
<p>Visual Studio (VS) is an Integrated Development Environment (IDE) by Microsoft, primarily used for C/C++, C#, and JavaScript. It's required since the DLL mod template is a VS project. The initial chapters of <a href="https://www.learncpp.com/">learncpp</a> explain how to install VS.</p>
<p><strong>Disassembler &amp; Decompiler</strong></p>
<p>A disassembler (and preferably a decompiler) is essential for reverse engineering BDS. The two most popular tools are:</p>
<ul>
<li>
<p><strong>Ghidra</strong>: Developed by the NSA, it's open-source.</p>
</li>
<li>
<p><strong>IDA Pro</strong>: Developed by Hex-Rays, it's not free but is significantly faster than Ghidra. As of IDA 8, the freeware version includes a decompiler, which should suffice for most modding tasks.</p>
</li>
</ul>
<p>Ghidra is at version 11.0.2 at the time of writing. While IDA remains the industry standard due to its speed and maturity, Ghidra's decompiler is improving rapidly and may surpass IDA after a few major updates.</p>
<hr />
<h2 id="pdb-dumper"><a class="header" href="#pdb-dumper"><strong>PDB Dumper</strong></a></h2>
<p>To hook into internal BDS functions, you need the Relative Virtual Address (RVA) of those functions. An RVA is the memory address of a function or constant minus the base address where the process module is loaded. You can obtain RVAs from the PDB file using a PDB dumper. Options include:</p>
<ul>
<li>
<p>A custom tool I've developed (which will be used in this guide).</p>
</li>
<li>
<p><a href="https://github.com/codehz/eatpdb">EatPdb by codehz</a>.</p>
</li>
<li>
<p><a href="https://github.com/AgNO3/TrDevHelper">TrDevHelper by AgNO3</a>, designed to aid in the development of TrapDoor, a carpet mod-like BDS plugin.</p>
</li>
</ul>
<p>Alternatively, you can create your own. The <a href="https://github.com/Microsoft/microsoft-pdb">microsoft-pdb repo</a> contains information on the PDB file format; you can refer to <code>cvdump</code> for inspiration.</p>
<hr />
<h2 id="dll-injector"><a class="header" href="#dll-injector"><strong>DLL Injector</strong></a></h2>
<p>Since Mojang hasn't added modding support to BDS or the MCBE client, the BDS process itself must be modified when loaded into memory. Dynamic Link Libraries (DLLs) are used for this purpose, and an 'injector' is required to load them into the BDS process. The bedrock server modding community often uses <a href="https://github.com/DarthTon/Xenos">Xenos</a>, but since Windows Defender may flag it upon download and it might be challenging for some users, you can opt for a simpler injector I've written. This guide will utilize Xenos.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="terminology.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="tools.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="terminology.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="tools.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
