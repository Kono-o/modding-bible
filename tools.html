<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Tools of the Trade - BDS Modding Bible</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">BDS Modding Bible</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="tools-of-the-trade"><a class="header" href="#tools-of-the-trade">Tools of the Trade</a></h1>
<hr />
<h2 id="visual-studio"><a class="header" href="#visual-studio">Visual Studio</a></h2>
<p>As I mentioned before,  <a href="https://www.learncpp.com/">learncpp</a> explains how to use Visual Studio and I expect you to have some experience with C++ (if you don't, what are you even doing here, go learn) so I will not personally go into too much detail on how to use it unless it’s necessary.</p>
<hr />
<h2 id="ida"><a class="header" href="#ida">IDA</a></h2>
<h3 id="disassembly"><a class="header" href="#disassembly">Disassembly</a></h3>
<ol>
<li>First you need to launch the 64bit IDA Pro executable. When you do so, you should see a screen similar to this:</li>
</ol>
<p><img 
	 src="img/ida_screen.png" class="center"
style="width: 150%;" /></p>
<ol start="2">
<li>Press <code>'File'</code>, then <code>‘Open’</code> and a file dialog will be opened. You can either select the windows executable or the Ubuntu binary (which you should have already downloaded and unzipped into a folder.</li>
<li>Another screen will pop up. If you are disassembling Ubuntu BDS, leave everything as default. If you're disassembling windows BDS, make sure the 'Load Resources' option is checked.</li>
<li>When analyzing windows BDS, a message box pops up asking if you want to load the PDB.</li>
<li>Choose 'Yes'. It'll fail to find it, then it'll ask to search for it on the Microsoft Symbol Server.</li>
<li>Click on 'Yes' and it'll fail again and ask to browse it on the disk.</li>
<li>Select 'Yes' and it'll open another file dialog; then select the PDB.</li>
</ol>
<p>IDA Pro has an automatic analysis phase during which the file is first loaded. The more the content and the more program files you analyze, the slower it will be. BDS analysis can take from half an hour to a day with IDA, depending on your hardware and how much memory is being used by other processes.</p>
<p>The colored bar at the top of the main screen has 2 arrows. A yellow one which indicates where your cursor is placed, and a red one which is displayed during analysis to indicate progress. Don't do anything until that red arrow has dissappeared or you see "The initial autoanalysis has been finished" on the output window at the bottom of the main window. Here's some advice: If you click on the top of the function window that will show up on the left side of the screen, it'll order the functions alphabetically. <strong>DO NOT</strong> do this while the file is being analyzed. It's likely IDA will crash.</p>
<h3 id="navigating-ida"><a class="header" href="#navigating-ida">Navigating IDA</a></h3>
<ol>
<li>The <strong>Functions Window</strong> on the left lists all functions. Use <strong>Ctrl+F</strong> to search by name.</li>
<li>Double-clicking a function opens its disassembly.</li>
<li>Press <strong>F5</strong> to view the pseudocode in a tab labeled "Pseudocode-[number]."</li>
<li>Open the <strong>Local Types Window</strong> with <strong>Shift+F1</strong> to view structs, enums, unions, etc. Right-click on a type to edit and see its declaration.</li>
<li>For specific values (e.g., minimum spacing between ocean monuments), locate the class constructor and decompile it. Constructors are named after the class (e.g., <code>OceanMonumentFeature::OceanMonumentFeature</code>).</li>
</ol>
<h3 id="useful-functions"><a class="header" href="#useful-functions">Useful Functions</a></h3>
<ul>
<li>
<p><strong>Jump to Xref</strong>:</p>
<ul>
<li>Right-click a function/type/variable and select <strong>Jump to Xref</strong> or <strong>Jump to Xref Globally</strong> to see where it’s used.</li>
</ul>
</li>
<li>
<p><strong>Generate C File</strong>:</p>
<ul>
<li>To export the entire disassembly as a C file: <strong>File</strong> &gt; <strong>Produce File</strong> &gt; <strong>Create C File</strong>. Note that this process is time-intensive.</li>
</ul>
</li>
<li>
<p><strong>Sync with [Window]</strong>:</p>
<ul>
<li>To modify a hardcoded value (e.g., piston push limit):
<ol>
<li>Right-click the value in the Hex View.</li>
<li>Select <strong>Synchronize With</strong> &gt; <strong>Hex View-[number]</strong>.</li>
<li>The corresponding section in the Hex View will be highlighted for easier navigation.</li>
</ol>
</li>
</ul>
</li>
</ul>
<h4 id="example-modifying-piston-push-limit"><a class="header" href="#example-modifying-piston-push-limit">Example: Modifying Piston Push Limit</a></h4>
<ul>
<li>In <code>PistonBlockActor::_checkAttachedBlocks</code> (81st line) and <code>PistonBlockActor::_attachedBlockWalker</code> (146th and 190th lines), replace the value <code>0xC</code> (12 in hexadecimal).</li>
<li>Alternatively, use this Python script to patch it automatically:</li>
</ul>
<hr />
<h3 id="outcrop"><a class="header" href="#outcrop">Outcrop</a></h3>
<p>Outcrop is straightforward to use. Check the <a href="https://github.com/">GitHub repository</a> for detailed instructions.</p>
<hr />
<h3 id="xenos"><a class="header" href="#xenos">Xenos</a></h3>
<ol>
<li>Download and run Xenos.</li>
<li>In the <strong>Process Selection</strong> section, select <strong>New</strong> and open the <code>bedrock_server.exe</code> file.</li>
<li>In the <strong>Images</strong> section, click <strong>Add</strong> and select the DLL file.</li>
<li>Click <strong>Inject</strong>.</li>
</ol>
<p><strong>Note</strong>: Windows Defender may flag Xenos as a false positive (e.g., <em>Vigram.A</em>). Options:</p>
<ul>
<li>Whitelist the file/folder.</li>
<li>Or, manually deal with Defender’s notifications each time.</li>
</ul>
<p><strong>Caution</strong>: Avoid whitelisting folders casually, as this can be exploited by malicious scripts to install malware.</p>
<hr />
<p>This guide emphasizes careful setup and navigation of tools essential for reverse engineering BDS, particularly using IDA Pro and Visual Studio, while ensuring security and stability during modifications.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="requirements.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="requirements.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
